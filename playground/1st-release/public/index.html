<html>
    <head>
        <meta charset="utf-8">
        <title>Meu primeiro jogo</title>

        <style>
            #screen {
                border: 10px solid #CCC; /* borda do jogo */
                /* deixa pixelado, não interpola */
                image-rendering: pixelated;
                image-rendering: crisp-edges;
                image-rendering: -moz-crisp-edges;    
                /* tamanho da area do jogo */
                width: 400px;
                height: 400px;
            }
        </style>
    </head>
    <body>
        <canvas id="screen" width="10" height="10"></canvas> <!-- desenha area do jogo -->

        <script type="module">
            /*
            npx serve         faz o git pode subir o servidor, não é o node
            
            npm init         cria o servidor node
            npm i express     adiciona modulo express ao node
            nvm install node   atualiza pra versao recente do node
            package.json:
                "main": "server.js",    define o arquivo que é o backend
                "type": "module",       define que o server é um modulo pra poder importar modulos
            node server.js      sobe o servidor
            npx nodemon      mesmo que npx serve mas do node (não precisa reiniciar servidor pra atualizary)
            */ 

            import createGame from './game.js'
            import createKeyboardListener from './keyboard-listener.js'
            import renderScreen from './render-screen.js'

            const game = createGame() /* cria uma instancia do jogo */
            const keyboardListener = createKeyboardListener(document) /* cria uma intancia do subject */
            keyboardListener.subscribe(game.movePlayer) /* inscreve a funcao movePLayer como um observer de keybordListener */
           
            const screen = document.getElementById('screen')
            renderScreen(screen, game, requestAnimationFrame) /* função que rendeziza o jogo na tela */
      
        </script>
    </body>
</html>